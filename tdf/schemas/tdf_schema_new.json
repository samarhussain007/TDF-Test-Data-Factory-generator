{
  "dialect": "postgres",
  "tables": {
    "addresses": {
      "name": "addresses",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": "nextval('addresses_id_seq'::regclass)",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "user_id": {
          "name": "user_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "line1": {
          "name": "line1",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "line2": {
          "name": "line2",
          "dbType": "text",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "city": {
          "name": "city",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "state": {
          "name": "state",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "zip": {
          "name": "zip",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "country": {
          "name": "country",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": "'IN'::text",
          "isPrimaryKey": false
        },
        "is_default": {
          "name": "is_default",
          "dbType": "bool",
          "isNullable": false,
          "defaultExpr": "false",
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "addresses_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "addresses_user_id_fkey",
          "columns": [
            "user_id"
          ],
          "refTable": "users",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "addresses_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "ux_default_address_per_user",
          "columns": [
            "user_id"
          ],
          "isUnique": true,
          "predicate": "(is_default = true)"
        }
      ],
      "checks": []
    },
    "coupons": {
      "name": "coupons",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "code": {
          "name": "code",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "percent_off": {
          "name": "percent_off",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "active": {
          "name": "active",
          "dbType": "bool",
          "isNullable": false,
          "defaultExpr": "true",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "tenant_id",
        "code"
      ],
      "foreignKeys": [
        {
          "constraintName": "coupons_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "tenant_id",
            "percent_off",
            "code"
          ],
          "constraintName": "coupons_tenant_id_percent_off_code_key"
        }
      ],
      "indexes": [
        {
          "name": "coupons_pkey",
          "columns": [
            "tenant_id",
            "code"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "coupons_tenant_id_percent_off_code_key",
          "columns": [
            "tenant_id",
            "code",
            "percent_off"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": [
        {
          "name": "coupons_percent_off_check",
          "expression": "((percent_off >= 1) AND (percent_off <= 90))"
        }
      ]
    },
    "inventory": {
      "name": "inventory",
      "columns": {
        "warehouse_id": {
          "name": "warehouse_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "sku": {
          "name": "sku",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "on_hand": {
          "name": "on_hand",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": "0",
          "isPrimaryKey": false
        },
        "reserved": {
          "name": "reserved",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": "0",
          "isPrimaryKey": false
        },
        "updated_at": {
          "name": "updated_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "warehouse_id",
        "tenant_id",
        "sku"
      ],
      "foreignKeys": [
        {
          "constraintName": "inventory_tenant_id_sku_fkey",
          "columns": [
            "tenant_id",
            "sku"
          ],
          "refTable": "products",
          "refColumns": [
            "tenant_id",
            "sku"
          ]
        },
        {
          "constraintName": "inventory_warehouse_id_fkey",
          "columns": [
            "warehouse_id"
          ],
          "refTable": "warehouses",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "idx_inventory_tenant_sku",
          "columns": [
            "tenant_id",
            "sku"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "inventory_pkey",
          "columns": [
            "warehouse_id",
            "tenant_id",
            "sku"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": [
        {
          "name": "inventory_check",
          "expression": "(reserved <= on_hand)"
        },
        {
          "name": "inventory_on_hand_check",
          "expression": "(on_hand >= 0)"
        },
        {
          "name": "inventory_reserved_check",
          "expression": "(reserved >= 0)"
        }
      ]
    },
    "order_audit": {
      "name": "order_audit",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": "nextval('order_audit_id_seq'::regclass)",
          "isPrimaryKey": true
        },
        "order_id": {
          "name": "order_id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "event": {
          "name": "event",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "snapshot": {
          "name": "snapshot",
          "dbType": "jsonb",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "order_audit_order_id_fkey",
          "columns": [
            "order_id"
          ],
          "refTable": "orders",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "order_audit_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "order_coupons": {
      "name": "order_coupons",
      "columns": {
        "order_id": {
          "name": "order_id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "coupon_code": {
          "name": "coupon_code",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        }
      },
      "primaryKey": [
        "order_id",
        "tenant_id",
        "coupon_code"
      ],
      "foreignKeys": [
        {
          "constraintName": "order_coupons_order_id_fkey",
          "columns": [
            "order_id"
          ],
          "refTable": "orders",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "order_coupons_tenant_id_coupon_code_fkey",
          "columns": [
            "tenant_id",
            "coupon_code"
          ],
          "refTable": "coupons",
          "refColumns": [
            "tenant_id",
            "code"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "order_coupons_pkey",
          "columns": [
            "order_id",
            "tenant_id",
            "coupon_code"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "order_items": {
      "name": "order_items",
      "columns": {
        "order_id": {
          "name": "order_id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "sku": {
          "name": "sku",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "quantity": {
          "name": "quantity",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "unit_price_cents": {
          "name": "unit_price_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "discount_cents": {
          "name": "discount_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": "0",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "order_id",
        "tenant_id",
        "sku"
      ],
      "foreignKeys": [
        {
          "constraintName": "order_items_order_id_fkey",
          "columns": [
            "order_id"
          ],
          "refTable": "orders",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "order_items_tenant_id_sku_fkey",
          "columns": [
            "tenant_id",
            "sku"
          ],
          "refTable": "products",
          "refColumns": [
            "tenant_id",
            "sku"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "order_items_pkey",
          "columns": [
            "order_id",
            "tenant_id",
            "sku"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": [
        {
          "name": "order_items_discount_cents_check",
          "expression": "(discount_cents >= 0)"
        },
        {
          "name": "order_items_quantity_check",
          "expression": "(quantity > 0)"
        },
        {
          "name": "order_items_unit_price_cents_check",
          "expression": "(unit_price_cents >= 0)"
        }
      ]
    },
    "orders": {
      "name": "orders",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": "nextval('orders_id_seq'::regclass)",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "user_id": {
          "name": "user_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "address_id": {
          "name": "address_id",
          "dbType": "int8",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "status": {
          "name": "status",
          "dbType": "order_status",
          "isNullable": false,
          "defaultExpr": "'draft'::order_status",
          "isPrimaryKey": false,
          "enumValues": [
            "draft",
            "placed",
            "paid",
            "shipped",
            "delivered",
            "cancelled",
            "refunded"
          ]
        },
        "currency": {
          "name": "currency",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": "'INR'::text",
          "isPrimaryKey": false
        },
        "subtotal_cents": {
          "name": "subtotal_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": "0",
          "isPrimaryKey": false
        },
        "tax_cents": {
          "name": "tax_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": "0",
          "isPrimaryKey": false
        },
        "total_cents": {
          "name": "total_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": "0",
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        },
        "updated_at": {
          "name": "updated_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "orders_address_id_fkey",
          "columns": [
            "address_id"
          ],
          "refTable": "addresses",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "orders_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "orders_user_id_fkey",
          "columns": [
            "user_id"
          ],
          "refTable": "users",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "tenant_id",
            "id"
          ],
          "constraintName": "orders_tenant_id_id_key"
        }
      ],
      "indexes": [
        {
          "name": "idx_orders_status",
          "columns": [
            "status"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "idx_orders_tenant_user",
          "columns": [
            "tenant_id",
            "user_id"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "orders_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "orders_tenant_id_id_key",
          "columns": [
            "id",
            "tenant_id"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": [
        {
          "name": "orders_subtotal_cents_check",
          "expression": "(subtotal_cents >= 0)"
        },
        {
          "name": "orders_tax_cents_check",
          "expression": "(tax_cents >= 0)"
        },
        {
          "name": "orders_total_cents_check",
          "expression": "(total_cents >= 0)"
        }
      ]
    },
    "payments": {
      "name": "payments",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": "gen_random_uuid()",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "order_id": {
          "name": "order_id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "provider": {
          "name": "provider",
          "dbType": "payment_provider",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false,
          "enumValues": [
            "stripe",
            "razorpay",
            "paypal",
            "cash"
          ]
        },
        "provider_ref": {
          "name": "provider_ref",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "amount_cents": {
          "name": "amount_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "payments_order_id_fkey",
          "columns": [
            "order_id"
          ],
          "refTable": "orders",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "payments_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "provider",
            "provider_ref"
          ],
          "constraintName": "payments_provider_provider_ref_key"
        }
      ],
      "indexes": [
        {
          "name": "idx_payments_order",
          "columns": [
            "order_id"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "payments_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "payments_provider_provider_ref_key",
          "columns": [
            "provider",
            "provider_ref"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": [
        {
          "name": "payments_amount_cents_check",
          "expression": "(amount_cents > 0)"
        }
      ]
    },
    "product_tags": {
      "name": "product_tags",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "sku": {
          "name": "sku",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "tag_slug": {
          "name": "tag_slug",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "tenant_id",
        "sku",
        "tag_slug"
      ],
      "foreignKeys": [
        {
          "constraintName": "product_tags_tenant_id_sku_fkey",
          "columns": [
            "tenant_id",
            "sku"
          ],
          "refTable": "products",
          "refColumns": [
            "tenant_id",
            "sku"
          ]
        },
        {
          "constraintName": "product_tags_tenant_id_tag_slug_fkey",
          "columns": [
            "tenant_id",
            "tag_slug"
          ],
          "refTable": "tags",
          "refColumns": [
            "tenant_id",
            "slug"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "product_tags_pkey",
          "columns": [
            "tenant_id",
            "sku",
            "tag_slug"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "products": {
      "name": "products",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "sku": {
          "name": "sku",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "name": {
          "name": "name",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "price_cents": {
          "name": "price_cents",
          "dbType": "int4",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "is_active": {
          "name": "is_active",
          "dbType": "bool",
          "isNullable": false,
          "defaultExpr": "true",
          "isPrimaryKey": false
        },
        "metadata": {
          "name": "metadata",
          "dbType": "jsonb",
          "isNullable": false,
          "defaultExpr": "'{}'::jsonb",
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "tenant_id",
        "sku"
      ],
      "foreignKeys": [
        {
          "constraintName": "products_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "tenant_id",
            "name"
          ],
          "constraintName": "products_tenant_id_name_key"
        }
      ],
      "indexes": [
        {
          "name": "products_pkey",
          "columns": [
            "tenant_id",
            "sku"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "products_tenant_id_name_key",
          "columns": [
            "tenant_id",
            "name"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": [
        {
          "name": "products_price_cents_check",
          "expression": "(price_cents >= 0)"
        }
      ]
    },
    "tags": {
      "name": "tags",
      "columns": {
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "slug": {
          "name": "slug",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": true
        },
        "label": {
          "name": "label",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "tenant_id",
        "slug"
      ],
      "foreignKeys": [
        {
          "constraintName": "tags_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "tags_pkey",
          "columns": [
            "tenant_id",
            "slug"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "tenants": {
      "name": "tenants",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": "gen_random_uuid()",
          "isPrimaryKey": true
        },
        "slug": {
          "name": "slug",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "name": {
          "name": "name",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [],
      "uniques": [
        {
          "columns": [
            "slug"
          ],
          "constraintName": "tenants_slug_key"
        }
      ],
      "indexes": [
        {
          "name": "tenants_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "tenants_slug_key",
          "columns": [
            "slug"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "ticket_comments": {
      "name": "ticket_comments",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": "nextval('ticket_comments_id_seq'::regclass)",
          "isPrimaryKey": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "user_id": {
          "name": "user_id",
          "dbType": "uuid",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "parent_id": {
          "name": "parent_id",
          "dbType": "int8",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "body": {
          "name": "body",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "ticket_comments_parent_id_fkey",
          "columns": [
            "parent_id"
          ],
          "refTable": "ticket_comments",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "ticket_comments_ticket_id_fkey",
          "columns": [
            "ticket_id"
          ],
          "refTable": "tickets",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "ticket_comments_user_id_fkey",
          "columns": [
            "user_id"
          ],
          "refTable": "users",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "idx_ticket_comments_ticket",
          "columns": [
            "ticket_id"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "ticket_comments_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "tickets": {
      "name": "tickets",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": "nextval('tickets_id_seq'::regclass)",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "user_id": {
          "name": "user_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "priority": {
          "name": "priority",
          "dbType": "ticket_priority",
          "isNullable": false,
          "defaultExpr": "'medium'::ticket_priority",
          "isPrimaryKey": false,
          "enumValues": [
            "low",
            "medium",
            "high",
            "urgent"
          ]
        },
        "title": {
          "name": "title",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "body": {
          "name": "body",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        },
        "closed_at": {
          "name": "closed_at",
          "dbType": "timestamptz",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "tickets_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "tickets_user_id_fkey",
          "columns": [
            "user_id"
          ],
          "refTable": "users",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [],
      "indexes": [
        {
          "name": "idx_tickets_tenant_created",
          "columns": [
            "tenant_id",
            "created_at"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "tickets_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "user_groups": {
      "name": "user_groups",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "int8",
          "isNullable": false,
          "defaultExpr": "nextval('user_groups_id_seq'::regclass)",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "name": {
          "name": "name",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "parent_id": {
          "name": "parent_id",
          "dbType": "int8",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "user_groups_parent_id_fkey",
          "columns": [
            "parent_id"
          ],
          "refTable": "user_groups",
          "refColumns": [
            "id"
          ]
        },
        {
          "constraintName": "user_groups_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "tenant_id",
            "name"
          ],
          "constraintName": "user_groups_tenant_id_name_key"
        }
      ],
      "indexes": [
        {
          "name": "idx_user_groups_parent",
          "columns": [
            "parent_id"
          ],
          "isUnique": false,
          "predicate": null
        },
        {
          "name": "user_groups_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "user_groups_tenant_id_name_key",
          "columns": [
            "tenant_id",
            "name"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "users": {
      "name": "users",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": "gen_random_uuid()",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "email": {
          "name": "email",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "full_name": {
          "name": "full_name",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "phone": {
          "name": "phone",
          "dbType": "text",
          "isNullable": true,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "created_at": {
          "name": "created_at",
          "dbType": "timestamptz",
          "isNullable": false,
          "defaultExpr": "now()",
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "users_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "tenant_id",
            "email"
          ],
          "constraintName": "users_tenant_id_email_key"
        }
      ],
      "indexes": [
        {
          "name": "users_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "users_tenant_id_email_key",
          "columns": [
            "tenant_id",
            "email"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    },
    "warehouses": {
      "name": "warehouses",
      "columns": {
        "id": {
          "name": "id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": "gen_random_uuid()",
          "isPrimaryKey": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "dbType": "uuid",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "code": {
          "name": "code",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "name": {
          "name": "name",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        },
        "city": {
          "name": "city",
          "dbType": "text",
          "isNullable": false,
          "defaultExpr": null,
          "isPrimaryKey": false
        }
      },
      "primaryKey": [
        "id"
      ],
      "foreignKeys": [
        {
          "constraintName": "warehouses_tenant_id_fkey",
          "columns": [
            "tenant_id"
          ],
          "refTable": "tenants",
          "refColumns": [
            "id"
          ]
        }
      ],
      "uniques": [
        {
          "columns": [
            "tenant_id",
            "code"
          ],
          "constraintName": "warehouses_tenant_id_code_key"
        }
      ],
      "indexes": [
        {
          "name": "warehouses_pkey",
          "columns": [
            "id"
          ],
          "isUnique": true,
          "predicate": null
        },
        {
          "name": "warehouses_tenant_id_code_key",
          "columns": [
            "tenant_id",
            "code"
          ],
          "isUnique": true,
          "predicate": null
        }
      ],
      "checks": []
    }
  }
}